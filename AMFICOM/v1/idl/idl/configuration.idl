/*
 * $Id: configuration.idl,v 1.80 2005/01/19 20:38:48 arseniy Exp $
 *
 * Copyright © 2004 Syrus Systems.
 * Научно-технический центр.
 * Проект: АМФИКОМ.
 */

#ifndef CONFIGURATION_IDL
#define CONFIGURATION_IDL

#include "general.idl"

module com {
module syrus {
module AMFICOM {
module configuration {
module corba {

// Generic interface to Equipment, MonitoredElement, etc
//	abstract interface MonitoredDomainMember_Transferable {
//		attribute general::corba::IdentifierSeq_Transferable monitored_element_ids;
//
//		void getKIS() raises (general::corba::AMFICOMRemoteException);
//	};


//////////////////// AccessIdentifier ///////////////////
	struct AccessIdentifier_Transferable {
		long long started;
		general::corba::Identifier_Transferable domain_id;
		general::corba::Identifier_Transferable user_id;		
		general::corba::Identifier_Transferable session_id;
	};

/////////////////////// EquipmentType /////////////////////
	struct EquipmentType_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		general::corba::WString128 manufacturer;
		general::corba::WString32 manufacturerCode;
		
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};
	
	typedef sequence <EquipmentType_Transferable> EquipmentTypeSeq_Transferable;
	typedef EquipmentType_Transferable EquipmentType;
	typedef sequence<EquipmentType> EquipmentTypeSeq;
	
/////////////////////// TransmissionPathType /////////////////////
	struct TransmissionPathType_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};
	
	typedef sequence <TransmissionPathType_Transferable> TransmissionPathTypeSeq_Transferable;
	typedef TransmissionPathType_Transferable TransmissionPathType;
	typedef sequence<TransmissionPathType> TransmissionPathTypeSeq;

//////////////////// PortTypeSort ///////////////////
	enum PortTypeSort {
		PORTTYPESORT_OPTICAL,
		PORTTYPESORT_ELECTRICAL,
		PORTTYPESORT_THERMAL
	};

/////////////////////// PortType /////////////////////
	struct PortType_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		PortTypeSort sort;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};
	
	typedef sequence <PortType_Transferable> PortTypeSeq_Transferable;
	typedef PortType_Transferable PortType;
	typedef sequence<PortType> PortTypeSeq;

	struct MeasurementPortType_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};

	typedef sequence <MeasurementPortType_Transferable> MeasurementPortTypeSeq_Transferable;
	typedef MeasurementPortType_Transferable MeasurementPortType;
	typedef sequence<MeasurementPortType> MeasurementPortTypeSeq;
	
/////////////////////// LinkType /////////////////////	
	enum AbstractLinkTypeSort {
		LINK_TYPE,
		CABLE_LINK_TYPE
	};

	enum LinkTypeSort {
		LINKTYPESORT_OPTICAL_FIBER,
		LINKTYPESORT_ETHERNET,
		LINKTYPESORT_GSM
	};

	struct LinkType_Transferable {
		general::corba::StorableObject_Transferable header;
	  
		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		LinkTypeSort sort;
		general::corba::WString128 manufacturer;
		general::corba::WString32 manufacturerCode;
		general::corba::Identifier_Transferable image_id;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};
	typedef sequence<LinkType_Transferable> LinkTypeSeq_Transferable;
	typedef LinkType_Transferable LinkType;
	typedef sequence<LinkType> LinkTypeSeq;


	struct CableLinkType_Transferable {
		general::corba::StorableObject_Transferable header;
		
		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		LinkTypeSort sort;
		general::corba::WString128 manufacturer;
		general::corba::WString32 manufacturerCode;
		general::corba::Identifier_Transferable image_id;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
		
		general::corba::IdentifierSeq_Transferable cableThreadTypeIds;
	};
	typedef sequence<CableLinkType_Transferable> CableLinkTypeSeq_Transferable;
	typedef CableLinkType_Transferable CableLinkType;
	typedef sequence<CableLinkType> CableLinkTypeSeq;

	struct CableThreadType_Transferable {
		general::corba::StorableObject_Transferable header;
		
		general::corba::WString32 codename;
		general::corba::WString256 description;
		general::corba::WString128 name;
		
		long color;
		
		general::corba::Identifier_Transferable linkTypeId;
	};
	typedef sequence<CableThreadType_Transferable> CableThreadTypeSeq_Transferable;
	typedef CableThreadType_Transferable CableThreadType;
	typedef sequence<CableThreadType> CableThreadTypeSeq;

	union AbstractLinkType_Transferable switch (AbstractLinkTypeSort) {
		case LINK_TYPE:
			LinkType_Transferable linkType;
		case CABLE_LINK_TYPE:
			CableLinkType_Transferable cableLinkType;
	};
	
	typedef sequence <AbstractLinkType_Transferable> AbstractLinkTypeSeq_Transferable;	
	typedef AbstractLinkType_Transferable AbstractLinkType;	
	typedef sequence<AbstractLinkType> AbstractLinkTypeSeq;	
	

///////////////////////// Equipment ///////////////////////
	struct Equipment_Transferable	{
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable domain_id;

		general::corba::IdentifierSeq_Transferable monitored_element_ids;

		general::corba::Identifier_Transferable type_id;

		general::corba::WString128 name;
		general::corba::WString256 description;
		general::corba::WString128 supplier;
		general::corba::WString32 supplierCode;
		
		float longitude;
		float latitude;
		
		wstring hwSerial;
		wstring hwVersion;
		wstring swSerial;
		wstring swVersion;
		wstring inventoryNumber;	
		
		general::corba::Identifier_Transferable image_id;

		general::corba::IdentifierSeq_Transferable port_ids;

		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};
	
	typedef sequence <Equipment_Transferable> EquipmentSeq_Transferable;
	typedef Equipment_Transferable Equipment;
	typedef sequence<Equipment> EquipmentSeq;

///////////////////// Transmission Path ///////////////////
	struct TransmissionPath_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable domain_id;

		general::corba::IdentifierSeq_Transferable monitored_element_ids;

		general::corba::WString128 name;
		general::corba::WString256 description;

		general::corba::Identifier_Transferable type_id;
		general::corba::Identifier_Transferable start_port_id;
		general::corba::Identifier_Transferable finish_port_id;
		
		general::corba::IdentifierSeq_Transferable characteristic_ids;

	};
	
	typedef sequence <TransmissionPath_Transferable> TransmissionPathSeq_Transferable;
	typedef TransmissionPath_Transferable TransmissionPath;
	typedef sequence<TransmissionPath> TransmissionPathSeq;

/////////////////////////////// Port ////////////////////////////////
	enum PortSort {
		PORT_SORT_PORT,
		PORT_SORT_CABLE_PORT
	};

	struct Port_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable type_id;
		general::corba::WString256 description;
		general::corba::Identifier_Transferable equipment_id;

		PortSort sort;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};

	typedef sequence <Port_Transferable> PortSeq_Transferable;
	typedef Port_Transferable Port;
	typedef sequence<Port> PortSeq;

//////////////////////////////// KIS ////////////////////////////////
	struct KIS_Transferable	{
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable domain_id;

		general::corba::WString128 name;
		general::corba::WString256 description;
		general::corba::WString64 hostname;
		short tcp_port;
		general::corba::Identifier_Transferable equipment_id;
		general::corba::Identifier_Transferable mcm_id;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
		general::corba::IdentifierSeq_Transferable measurement_port_ids;
	};
	
	typedef sequence <KIS_Transferable> KISSeq_Transferable;
	typedef KIS_Transferable Rtu;
	typedef sequence<Rtu> RtuSeq;

////////////////////////// MeasurementPort ///////////////////////////
	struct MeasurementPort_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable type_id;
		general::corba::WString128 name;
		general::corba::WString256 description;
		general::corba::Identifier_Transferable kis_id;
		general::corba::Identifier_Transferable port_id;
		general::corba::IdentifierSeq_Transferable characteristic_ids;
	};

	typedef sequence <MeasurementPort_Transferable> MeasurementPortSeq_Transferable;
	typedef MeasurementPort_Transferable MeasurementPort;
	typedef sequence<MeasurementPort> MeasurementPortSeq;

///////////////////// Monitored Element ///////////////////
	enum MonitoredElementSort {
		MONITOREDELEMENT_SORT_LINK,
		MONITOREDELEMENT_SORT_TRANSMISSION_PATH,
		MONITOREDELEMENT_SORT_EQUIPMENT,
		MONITOREDELEMENT_SORT_PORT,
		MONITOREDELEMENT_SORT_CABLEPORT
	};

	struct MonitoredElement_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable domain_id;
		
		general::corba::WString128 name;
		general::corba::Identifier_Transferable measurement_port_id;
		MonitoredElementSort sort;
		general::corba::WString64 local_address;

		general::corba::IdentifierSeq_Transferable monitored_domain_member_ids;
	};

	typedef sequence <MonitoredElement_Transferable> MonitoredElementSeq_Transferable;

///////////////////// Link /////////////////////
	enum LinkSort{
		LINKSORT_LINK,
		LINKSORT_CABLELINK		
	};

	struct Link_Transferable {
		general::corba::StorableObject_Transferable header;

		general::corba::Identifier_Transferable domain_id;
		
		general::corba::WString128 name;
		general::corba::WString256 description;
		general::corba::Identifier_Transferable type_id;		
		
		LinkSort sort;		
		
		wstring inventoryNo;
		general::corba::WString128 supplier;
		general::corba::WString32 supplierCode;
		
		long color;
		general::corba::WString32 mark;
		general::corba::IdentifierSeq_Transferable characteristic_ids;		
	};

	typedef sequence <Link_Transferable> LinkSeq_Transferable;
	typedef Link_Transferable Link;
	typedef sequence<Link> LinkSeq;
	
///////////////////// CableThread /////////////////////
	struct CableThread_Transferable {
		general::corba::StorableObject_Transferable header;
		general::corba::Identifier_Transferable domain_id;
		
		general::corba::WString128 name;
		general::corba::WString256 description;
		general::corba::Identifier_Transferable type_id;		
	};

	typedef sequence <CableThread_Transferable> CableThreadSeq_Transferable;
	typedef CableThread_Transferable CableThread;
	typedef sequence<Link> CableThreadSeq;
	
};
};
};
};
};

#endif

